<div class="suggestions-container">
  <div class="header-section">
    <h2 class="page-title">
      <i class="icon-suggestions"></i>
      Liste des Suggestions
    </h2>
    
    <!-- Barre de recherche -->
    <div class="search-container">
      <div class="search-input-wrapper">
        <i class="search-icon">üîç</i>
        <input 
          type="text" 
          [(ngModel)]="searchTerm" 
          (input)="onSearch()"
          placeholder="Rechercher par titre ou cat√©gorie..."
          class="search-input"
        >
        <button 
          *ngIf="searchTerm" 
          (click)="searchTerm = ''; onSearch()" 
          class="clear-search-btn"
          title="Effacer la recherche"
        >
          ‚úï
        </button>
      </div>
    </div>

    <!-- Filtres -->
    <div class="filters-section">
      <div class="filter-group">
        <label for="statusFilter">Statut:</label>
        <select id="statusFilter" [(ngModel)]="statusFilter" (change)="onFilter()" class="filter-select">
          <option value="">Tous</option>
          <option value="acceptee">Accept√©e</option>
          <option value="en_attente">En attente</option>
          <option value="refusee">Refus√©e</option>
        </select>
      </div>

      <div class="filter-group">
        <label for="categoryFilter">Cat√©gorie:</label>
        <select id="categoryFilter" [(ngModel)]="categoryFilter" (change)="onFilter()" class="filter-select">
          <option value="">Toutes</option>
          <option value="UI/UX">UI/UX</option>
          <option value="Feature">Feature</option>
          <option value="Performance">Performance</option>
          <option value="Technologie">Technologie</option>
          <option value="√âv√©nements">√âv√©nements</option>
          <option value="Formation">Formation</option>
          <option value="Ressources Humaines">Ressources Humaines</option>
        </select>
      </div>

      <div class="filter-group">
        <label for="sortBy">Trier par:</label>
        <select id="sortBy" [(ngModel)]="sortBy" (change)="onSort()" class="filter-select">
          <option value="date">Date</option>
          <option value="likes">Likes</option>
          <option value="title">Titre</option>
        </select>
      </div>
    </div>
  </div>

  <!-- R√©sultats de recherche -->
  <div class="results-info" *ngIf="searchTerm">
    <span class="results-count">
      {{ filteredSuggestions.length }} r√©sultat(s) trouv√©(s) pour "{{ searchTerm }}"
    </span>
  </div>

  <!-- Liste des suggestions -->
  <div class="suggestions-grid">
    <div *ngFor="let suggestion of filteredSuggestions" class="suggestion-card" 
         [ngClass]="{'rejected': isRejected(suggestion.status)}">
      
      <!-- En-t√™te de la carte -->
      <div class="card-header">
        <div class="title-section">
          <h3 class="suggestion-title">{{ suggestion.title }}</h3>
          <span class="category-badge" [attr.data-category]="suggestion.category">
            {{ suggestion.category }}
          </span>
        </div>
        
        <!-- Statut -->
        <div class="status-container">
          <span class="status-badge" [ngClass]="{
            'status-acceptee': suggestion.status === 'acceptee',
            'status-refusee': suggestion.status === 'refusee',
            'status-en-attente': suggestion.status === 'en_attente'
          }">
            <i class="status-icon" [ngClass]="{
              'icon-check': suggestion.status === 'acceptee',
              'icon-cross': suggestion.status === 'refusee',
              'icon-clock': suggestion.status === 'en_attente'
            }"></i>
            {{ suggestion.status === 'acceptee' ? 'Accept√©e' : 
               suggestion.status === 'refusee' ? 'Refus√©e' : 'En attente' }}
          </span>
        </div>
      </div>

      <!-- Contenu de la carte -->
      <div class="card-content">
        <p class="suggestion-description">{{ suggestion.description }}</p>
        
        <div class="meta-info">
          <span class="date-info">
            <i class="icon-calendar">üìÖ</i>
            {{ suggestion.date | date:'dd/MM/yyyy' }}
          </span>
        </div>
      </div>

      <!-- Actions -->
      <div class="card-actions">
        <button 
          *ngIf="!isRejected(suggestion.status)"
          class="action-btn like-btn" 
          (click)="onLike(suggestion)"
          title="J'aime cette suggestion"
        >
          <i class="icon-heart">‚ù§Ô∏è</i>
          <span class="likes-count">{{ suggestion.likes }}</span>
        </button>
        
        <button 
          *ngIf="!isRejected(suggestion.status)"
          class="action-btn favorite-btn" 
          [ngClass]="{'active': suggestion.isFavorite}"
          (click)="onToggleFavorite(suggestion)"
          [title]="suggestion.isFavorite ? 'Retirer des favoris' : 'Ajouter aux favoris'"
        >
          <i class="icon-star" [ngClass]="{'filled': suggestion.isFavorite}">
            {{ suggestion.isFavorite ? '‚≠ê' : '‚òÜ' }}
          </i>
          <span class="favorite-text">
            {{ suggestion.isFavorite ? 'Favori' : 'Favoris' }}
          </span>
        </button>

        <button 
          class="action-btn details-btn" 
          [routerLink]="['/suggestions', suggestion.id]"
          title="Voir les d√©tails"
        >
          <i class="icon-details">üëÅÔ∏è</i>
          <span>D√©tails</span>
        </button>
      </div>

      <!-- Message pour les suggestions refus√©es -->
      <div class="rejected-message" *ngIf="isRejected(suggestion.status)">
        <i class="icon-info">‚ÑπÔ∏è</i>
        <span>Cette suggestion a √©t√© refus√©e</span>
      </div>
    </div>
  </div>

  <!-- Message si aucun r√©sultat -->
  <div class="no-results" *ngIf="filteredSuggestions.length === 0">
    <div class="no-results-content">
      <i class="icon-search-empty">üîç</i>
      <h3>Aucune suggestion trouv√©e</h3>
      <p>Essayez de modifier vos crit√®res de recherche</p>
    </div>
  </div>
</div>
